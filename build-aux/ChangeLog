2006-11-17  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Make valgrind errors non-fatal by default.
	* test.sh.in: Here.

2006-11-17  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Fix valgrind/libtool issues.
	* test.sh.in: Here.

2006-11-17  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Add valgrind support.
	* test.sh.in: Here. See the "built in" documentation.

2006-11-17  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Add a macro to check Qt's version.
	* autotroll.m4 (AT_REQUIRE_QT_VERSION): New.

2006-11-16  Akim Demaille  <akim.demaille@free.fr>

	Improve check.mk
	* check.mk: Simplify the reporting.
	Use $(subdir).
	* reindent: Try to remove some useless parens.
	* rename: New.
	Not very safe, yet useful.

2006-11-16  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Remove spurious warnings from aclocal.
	* qscintilla2.m4: Use quadrigraphs to remove spurious warnings:
	aclocal:build-aux/qscintilla2.m4:53: warning: macro `AM_CPPFLAGS' not
	found in library
	aclocal:build-aux/qscintilla2.m4:56: warning: macro `AM_CXXFLAGS' not
	found in library

2006-11-16  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Properly handle Windows' CRLF.
	When we're on Windows, the output of the programs are first filtered
	so that any \r at end of line is removed.

	The script is also named test.sh.in so that you can list it in
	AC_CONFIG_FILES which allows you to run ./some.test directly (see the
	end of the documentation within the file). However, this doesn't break
	backward compatibility and test.sh.in can still be run without being an
	AC_CONFIG_FILES.

	* test.sh: Move to...
	* test.sh.in: ... this.

2006-11-15  Akim Demaille  <akim.demaille@gmail.com>

	Fix handling of libport/config.h
	* urbi-config-headers-prefixed.m4 (PREFIXED_CONFIG_HEADER_basename):
	Define it.
	* config-headers-prefixed.mk: Use it.

2006-11-15  Akim Demaille  <akim.demaille@gmail.com>

	Make svn bits more alike to prepare factoring
	* build-aux.mk: Do that based on libport bits.

2006-11-15  Akim Demaille  <akim.demaille@gmail.com>

	More reindent
	* reindent: Use libport/cstring.

2006-11-15  Akim Demaille  <akim.demaille@gmail.com>

	Improve reindent to catch common patterns to factor
	* reindent: Also handle comments on the same line as the
	brace.
	strcmp == 0 -> STREQ.

2006-11-13  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Improve detection of qscintilla2.
	* autotroll.m4: Make more robust.
	* qscintilla2.m4: Use a Makefile when building the test application to
	  see whether qscintilla2 is working or not.

2006-11-13  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Fix the compilation test for qscintilla2.
	* qscintilla2.m4: Place conftest.cpp -o conftest$EXEEXT before the
	  LDFLAGS and LIBS.

2006-11-13  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Add a work-around for Windows.
	* qscintilla2.m4: #undef main if necessary.

2006-11-13  Akim Demaille  <akim.demaille@free.fr>

	Add check.mk
	* check.mk: New, from Vaucanson.
	* test.sh: Use a banner when reporting files.

2006-11-09  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	AC_SUBST QSCINTILLA2_LDFLAGS.
	* qscintilla2.m4: Here.

2006-11-09  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Add a macro to detect QScintilla2.
	* qscintilla2.m4: New. Defines the macro WITH_QSCINTILLA2. The way I
	  find libqscintilla2 seem rather fragile.

2006-11-07  Akim Demaille  <demaille@gostai.com>

	More posix -> engine
	* urbi-dirs.m4: here.

2006-11-07  Akim Demaille  <demaille@gostai.com>

	posix -> engine
	* urbi-dirs.m4: Expect engine, not posix as an urbi_env.

2006-11-07  Akim Demaille  <demaille@gostai.com>

	nostdinc
	* urbi-engine.ac: Pass it to Automake.

2006-11-07  Akim Demaille  <demaille@gostai.com>

	Execute URBI_LIBPORT earlier
	* urbi-engine.ac: to catch cmd line error earlier.

2006-11-07  Akim Demaille  <demaille@gostai.com>

	Work around AC_REQUIRE issues
	* urbi-engine.m4: Rename as...
	* urbi-engine.ac: this.
	Adjust to be included, not to define a macro.

2006-11-07  Akim Demaille  <demaille@gostai.com>

	Fixes and improvements
	* ax-prefix-config-h.m4: Use config_headers, not CONFIG_HEADERS,
	since the former contains all the declared headers, while the latter
	contains only those about to be instantiated.
	* urbi-config-headers-prefixed.m4 (URBI_PREFIX_CONFIG_H): New.
	* urbi-libport.m4: Require the instantiation of libport/config.h.
	* build-aux.mk: Remove libport svn sugar.

2006-11-07  Akim Demaille  <demaille@gostai.com>

	SVN
	* urbi-build-aux.m4 (SVN): Define it.

2006-11-07  Akim Demaille  <demaille@gostai.com>

	Define LIBPORT_CPPFLAGS
	* urbi-libport.m4: Do that.
	* init.mk (EXTRA_HEADERS): New.

2006-11-07  Akim Demaille  <demaille@gostai.com>

	Simplify
	* config-headers-prefixed.mk: No need for a stamp file.

2006-11-07  Akim Demaille  <demaille@gostai.com>

	URBI_CONFIG_HEADERS_PREFIXED
	* config-headers-prefixed.mk, urbi-config-headers-prefixed.m4: New.
	* ax-prefix-config-h.m4: New.
	* README: Complete.
	* urbi-build-aux.m4: Don't issue AC_CONFIG_AUX_DIR here until
	libtoolize support traces.

2006-11-06  POTHIER Benoit  <pothier@gostai.com>

	Fix QT resource generation.
	* autotroll.mk: RCC instead of QRC.

2006-11-06  Akim Demaille  <akim@lrde.epita.fr>

	More Make macros, easier distcheck
	* urbi-dirs.m4 (SDK_CPPFLAGS, SDK_LDFLAGS): New.
	* init.mk (AM_LIBADD): Remove, Automake 1.10 doesn't like its name.
	* build-aux.mk: Include init.mk.
	This will requirement the adjustment of all its users.
	* urbi-build-aux.m4: New.
	* revision.mk (move_if_change): New.
	Ship it.

2006-11-04  Akim Demaille  <akim@lrde.epita.fr>

	Fix svn-externals -U
	* svn-externals: Use "all" instead of "" to denote the whole
	set of externals.
	* build-aux.mk (build_aux_dir, svn_externals): New.
	Use them.
	Pass host directories are arguments instead of cd'ing into them.

2006-11-03  Akim Demaille  <akim.demaille@free.fr>

	Fix -U
	* svn-externals: Fix handling of -U.

2006-11-03  Akim Demaille  <akim.demaille@free.fr>

	svn-externals: Accept dir list
	* svn-externals: Accept dir list.
	* build-aux.mk: Don't use $(top_srcdir) in EXTRA_DIST,
	Automake dislikes very much.

2006-11-03  Akim Demaille  <akim.demaille@free.fr>

	More typos.
	* urbi-dirs.m4: Quote the definition of urbiincludedir.

2006-11-03  Akim Demaille  <akim.demaille@free.fr>

	Bad typo
	* urbi-dirs.m4: urbiincludedir, not dire.

2006-11-03  Akim Demaille  <akim.demaille@free.fr>

	init.mk
	* urbi-dirs.m4 (urbiincludedir): New.
	* init.mk: New.

2006-11-02  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Fix last changes.
	* autotroll.mk: Take Automake's complain into account:
	  "<: non-POSIX variable name".
	* autotroll.m4: AC_MSG_WARNING is AC_MSG_WARN.

2006-11-02  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Handle UIC, RCC and multiple Makefiles generated by qmake.
	* autotroll.mk: Additionnal implicit rules to compile interfaces (.ui)
	  or Qt resources (.qrc).
	* autotroll.m4: Detect qrc (in $(QRC)). Update doc. Handle multiple
	  Makefiles generated by qmake (Makefile.Debug, Makefile.Release...).

2006-11-01  Akim Demaille  <akim@lrde.epita.fr>

	Default is --without-openr
	* urbi-openr.m4: Do that.

2006-11-01  Akim Demaille  <akim@lrde.epita.fr>

	URBI_LIBPORT
	* urbi-libport.m4: New.

2006-10-31  Akim Demaille  <demaille@gostai.com>

	More external aliases
	* svn-externals (lurbi, uobj): New.
	More assertions.
	Unfortunately, in some situations I don't understand well yet,
	my exit 1 are ignored!

2006-10-31  Akim Demaille  <demaille@gostai.com>

	make help
	* build-aux.mk (help): New target.
	(SVN): New variable.
	Accept aliases of target names.

2006-10-31  Akim Demaille  <demaille@gostai.com>

	Extend URBI_FLOAT
	* urbi-ufloat.m4: Support 5 supports, tabulated or not.

2006-10-31  Akim Demaille  <demaille@gostai.com>

	rebox.el
	* rebox.el: New.
	* README: Adjust.

2006-10-31  Akim Demaille  <demaille@gostai.com>

	Reindent
	* reindent: New.
	* README: Update.

2006-10-31  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Handle multiple extensions properly.
	* autotroll.mk: Here.

2006-10-27  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Don't skip empty files when generating reference outputs.
	* test.sh: Because it might be confusing and because it might leads to
	  dist problems (eg: EXTRA_DIST = $(TESTS:.test=.stdout) will make
	  "make dist" fail because a .stdout is missing because it was empty).

2006-10-26  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Add the generic test suite in build-aux.
	This way it's usable easily throughout different projects.
	* tests/test.sh: Move to...
	* build-aux/test.sh: ... here.

2006-10-26  Akim Demaille  <demaille@gostai.com>

	Typo
	* urbi-openr.m4 (OPENR_SDK_PATH): OPEN_R_SDK.
	Reported by Matthieu.

2006-10-25  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Try to enforce release mode when build fails.
	* autotroll.m4: When the sample Qt app built by AutoTroll fails to
	  compile, it might be because qmake (erroneously) enforces debugging
	  support (eg by adding -lQtXml_debug in the LIBS) whereas no
	  debugging support was installed with Qt (which is the default on
	  Debian for instance). In this case, AutoTroll tries to enforce
	  CONFIG += release.

2006-10-24  Akim Demaille  <demaille@gostai.com>

	Typo
	* urbi-ufloat.m4: Fix it.

2006-10-24  Akim Demaille  <demaille@gostai.com>

	URBI_FLOAT
	* urbi-ufloat.m4: New.

2006-10-24  Akim Demaille  <demaille@gostai.com>

	More OPENR vars
	* urbi-openr.m4 (OPEN_R_LDFLAGS): New.

2006-10-24  Akim Demaille  <demaille@gostai.com>

	* svn-externals (url_aliases): Fix the computation of ext.

2006-10-24  Akim Demaille  <demaille@gostai.com>

	* svn-externals: More aliases.
	Support recursive aliases.
	Support --dry-run.

2006-10-24  Akim Demaille  <demaille@gostai.com>

	More doc
	* urbi-dirs.m4: More documentation.

2006-10-22  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Workaround for libtool's lake of support of -F on Darwin.
	* autotroll.m4 (QT_LIBS): Rewrite -F's as -Wl,-F's on Darwin because
	  as of today, libtool doesn't handle them correctly.

2006-10-22  Akim Demaille  <akim.demaille@free.fr>

	Let svn-externals support short options
	* svn-externals: Add support -U.

2006-10-21  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Fix typos.

	* README,
	* urbi-openr.m4,
	* umake.in: Typos.

2006-10-21  Akim Demaille  <akim.demaille@free.fr>

	Upgrades
	* urbi-prog-cxx.m4: Define PARSER_CXXFLAGS, although I don't
	know yet how to use this cleanly, since -O2 is actually included
	in the CXXFLAGS, and they appear last...
	* version.hh.in (PACKAGE_VERSION_REV): New.
	* urbi-openr.m4: Minor simplification.

2006-10-21  Akim Demaille  <akim.demaille@free.fr>

	Minor completion
	* urbi-openr.m4: Complete doc and fix spelling.

2006-10-20  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Handle Qt3.

	* autotroll.m4: Take QT_DIR into account. If the build fail, it might
	  be because QObject was introduced in Qt4. In this case, try again
	  with #include <qobject.h> instead. Depending on this test,
	  QT_VERSION_MAJOR is set to 3 or 4 and AC_SUBST'ed. This is not a
	  reliable way of knowing the real version of Qt though.

2006-10-18  Akim Demaille  <demaille@gostai.com>

	More for Aibo.
	* urbi-dirs.m4: Define URBI_ENV_<ENV>.
	* urbi-openr.m4 (MKBIN, MK_FLAGS, STUBGEN, OPEN_R_CPPFLAGS):
	AC_SUBST them.

2006-10-18  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	Fix typos.

	* autotroll.m4: Fix typos (thanks aspell).

2006-10-18  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	r64: Enhance AT_WITH_QT.

	* autotroll.m4 (AT_WITH_QT): Take 3 arguments to tweak the build
	  process of Qt apps.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	pthreads or windows are not required.
	* urbi-pthread.m4: Don't require one of the two: aibo for instance.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	More doc.
	* README: More doc.
	* build-aux.mk (recheck): Run make.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	recheck.
	* build-aux.mk (recheck): New.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	Initialize EXTRA_DIST.
	* build-aux.mk: Do that.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	Rename our install-sh as install-sh-c.
	* install-sh-c: New.
	* build-aux.mk: EXTRA_DIST it.
	* bootstrap: We no longer have to protect install-sh.
	* install-sh: Remove.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	Upgrade URBI_OPENR.
	* urbi-openr.m4: Define OPEN_R_SDK, as it's the straightforward
	name.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	Extend URBI_PTHREAD.
	* urbi-pthread.m4: Check for pthread.h.
	Fix typo.
	Define PTHREAD_LIBS even for windows.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	Fix libport-ci.
	* build-aux.mk: Fix.

2006-10-17  SIGOURE Benoit  <sigoure.benoit@lrde.epita.fr>

	r49: Handle more suffixes.

	* autotroll.mk: Handle .cc, .cxx, .C (along with .cpp).

2006-10-17  Akim Demaille  <demaille@gostai.com>

	Use config, add version.hh.in.
	* version.hh.in: New.
	* revision.mk: Adjust.
	* README: Document it.
	* urbi-engine.m4: Build sdk/config.h.

2006-10-16  Akim Demaille  <demaille@gostai.com>

	Don't point to the install kernel when compiling the kernel.
	* urbi-dirs.m4: Fix that.

2006-10-16  Akim Demaille  <akim.demaille@free.fr>

	Fix svn-externals.
	* svn-externals: Correctly remove the option when calling
	svn_externals_update.

2006-10-16  Akim Demaille  <akim.demaille@free.fr>

	install-sh -C.
	* install-sh: Support -C.
	The point is to avoid install urbi headers over and over
	again, to avoid useless recompilations.
	* bootstrap: Protect install-sh from being overriden by
	Automake's.

2006-10-16  Akim Demaille  <akim.demaille@free.fr>

	Add original install-sh.
	* install-sh: New.

2006-10-15  Akim Demaille  <demaille@gostai.com>

	* svn-externals: Add missing fi.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	svn-externals --upgrade=DIR.
	* svn-externals: Support an argument for --upgrade.
	* build-aux.mk (baux-up): Upgrade just build-aux.

2006-10-09  Akim Demaille  <akim@lrde.epita.fr>

	Add baux-pin.
	* build-aux.mk (baux-pin): New.

2006-10-09  Akim Demaille  <akim@lrde.epita.fr>

	bootstrap makes.
	* bootstrap: Re-make if possible.

2006-10-09  Akim Demaille  <akim@lrde.epita.fr>

	build-aux.mk.
	* build-aux.mk: New.

2006-10-09  Akim Demaille  <akim@lrde.epita.fr>

	svn-externals.
	* svn-externals: New.

2006-10-06  Akim Demaille  <akim@lrde.epita.fr>

	Use an initialized CLEANFILES.
	* revision.mk: Do that.

2006-10-06  Akim Demaille  <akim@lrde.epita.fr>

	bison++ overhaul.
	* bison++.in: No longer ask for a "srcdir", rather rely on the
	paths of the input and output files.

2006-10-06  Akim Demaille  <akim@lrde.epita.fr>

	tc-prog.
	* tc-prog.m4: New.
	* urbi-arg-progs.m4: Rename as.
	* urbi-var-progs.m4: this for consistency.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	* umake.in: No longer a symlink.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Embed umake.in here.
	* umake.in: New.
	* urbi-sdk.m4: Adjust.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Formatting changes.
	* urbi-sdk.m4: Do it.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Better bootstrap.
	* bootstrap: Read bootstrap.cfg if there is one.
	Preserve files listed in $keep.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	More common stuff.
	From kernel1.
	* move-if-change: New.
	* revision.mk: New.
	* bison++.in: New.

2006-10-03  matthieu nottale  <nottale@gostai.com>

	Force doc generation

	* doxygen.mk: Add a all: $(EXTRA_DIST) to force doc generation.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	URBI_PROG_CXX.
	* warning.m4: New.
	From the Tiger Compiler.
	* urbi-prog-cxx.m4: New.
	Pass -Wall when supported.
	* urbi-engine.m4: Use it.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	* urbi-engine.m4: Use AC_ENABLE_SHARED.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	* README: New.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	From urbiengine-linux.
	* urbi-engine.m4: New.
	* urbi-dirs.m4 (kerneldir, kernelincludedir): New.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	* bootstrap: New.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	More macros.
	* urbi-pthread.m4, urbi-var-progs.m4: New.
	From liburbi-cpp.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	* vcs/local.rb, acx_pthread.m4, doxygen.mk, urbi-dirs.m4,
	* urbi-dirs.m4, urbi-doc.m4, urbi-openr.m4, urbi-sdk.m4: New.
	From liburbi-cpp.
